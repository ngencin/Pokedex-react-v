(this["webpackJsonpreact-pokemons-app"]=this["webpackJsonpreact-pokemons-app"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(5),n=c.n(a);c(14);var r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return"".concat(e.getDate(),"/").concat(e.getMonth()+1,"/").concat(e.getFullYear())};var l=e=>{let t;switch(e){case"Feu":t="red lighten-1";break;case"Eau":t="blue lighten-1";break;case"Plante":t="green lighten-1";break;case"Insecte":t="brown lighten-1";break;case"Normal":t="grey lighten-3";break;case"Vol":t="blue lighten-3";break;case"Poison":t="deep-purple accent-1";break;case"F\xe9e":t="pink lighten-4";break;case"Psy":t="deep-purple darken-2";break;case"Electrik":t="lime accent-1";break;case"Combat":t="deep-orange";break;default:t="grey"}return"chip ".concat(t)},i=c(3),o=c(1);var d=e=>{let{pokemon:t,borderColor:c="#009688"}=e;const[a,n]=Object(s.useState)(),d=Object(i.o)();return Object(o.jsx)("div",{className:"col s6 m4",onClick:()=>{return e=t.id,void d("/pokemons/".concat(e));var e},onMouseEnter:()=>{n(c)},onMouseLeave:()=>{n("#f5f5f5")},children:Object(o.jsxs)("div",{className:"card horizontal",style:{borderColor:a},children:[Object(o.jsx)("div",{className:"card-image",children:Object(o.jsx)("img",{src:t.picture,alt:t.name})}),Object(o.jsx)("div",{className:"card-stacked",children:Object(o.jsxs)("div",{className:"card-content",children:[Object(o.jsx)("p",{children:t.name}),Object(o.jsx)("p",{children:Object(o.jsx)("small",{children:r(t.created)})}),t.types.map((e=>Object(o.jsx)("span",{className:l(e),children:e},e)))]})})]})})};class j{static addPokemon(e){throw new Error("Method not implemented.")}static getPokemons(){return fetch("http://localhost:3001/pokemons").then((e=>e.json())).catch((e=>this.handleError(e)))}static getPokemon(e){return fetch("http://localhost:3001/pokemons/".concat(e)).then((e=>e.json())).then((e=>this.isEmpty(e)?null:e)).catch((e=>this.handleError(e)))}static updatePokemon(e){return fetch("http://localhost:3001/pokemons/".concat(e.id),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).catch((e=>this.handleError(e)))}static deletePokemon(e){return fetch("http://localhost:3001/pokemons/".concat(e.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).catch((e=>this.handleError(e)))}static isEmpty(e){return 0===Object.keys(e).length}static handleError(e){console.error(e)}}var h=c(4);var m=()=>{const[e,t]=Object(s.useState)([]);return Object(s.useEffect)((()=>{j.getPokemons().then((e=>t(e)))}),[]),Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"center",children:"Pok\xe9dex"}),Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("div",{className:"row",children:e.map((e=>Object(o.jsx)(d,{pokemon:e},e.id)))}),Object(o.jsx)(h.b,{className:"btn-floating btn-large waves-effect waves-light red z-depth-3",style:{position:"fixed",bottom:"25px",right:"25px"},to:"/pokemon/post",children:Object(o.jsx)("i",{className:"fa fa-plus"})})]})]})};var p=()=>{const{id:e}=Object(i.q)(),[t,c]=Object(s.useState)();return Object(s.useEffect)((()=>{j.getPokemon(Number(e)).then((e=>c(e||void 0)))}),[e]),Object(o.jsx)("div",{children:t?Object(o.jsx)("div",{className:"row",children:Object(o.jsxs)("div",{className:"col s12 m8 offset-m2",children:[Object(o.jsx)("h2",{className:"header center",children:t.name}),Object(o.jsxs)("div",{className:"card hoverable",children:[Object(o.jsxs)("div",{className:"card-image",children:[Object(o.jsx)("img",{src:t.picture,alt:t.name,style:{width:"250px",margin:"0 auto"}}),Object(o.jsx)(h.b,{to:"/pokemon/edit/".concat(t.id),className:"btn btn-floating halfway-fab waves-effect waves-light",children:Object(o.jsx)("i",{className:"fa-solid fa-pen"})})]}),Object(o.jsxs)("div",{className:"card-stacked",children:[Object(o.jsx)("div",{className:"card-content",children:Object(o.jsx)("table",{className:"bordered striped",children:Object(o.jsxs)("tbody",{children:[Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Nom"}),Object(o.jsx)("td",{children:Object(o.jsx)("strong",{children:t.name})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Points de vie"}),Object(o.jsx)("td",{children:Object(o.jsx)("strong",{children:t.hp})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"D\xe9g\xe2ts"}),Object(o.jsx)("td",{children:Object(o.jsx)("strong",{children:t.cp})})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Types"}),Object(o.jsx)("td",{children:t.types.map((e=>Object(o.jsx)("span",{className:l(e),children:e},e)))})]}),Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:"Date de cr\xe9ation"}),Object(o.jsx)("td",{children:r(t.created)})]})]})})}),Object(o.jsx)("div",{className:"card-action",children:Object(o.jsx)(h.b,{to:"/",children:"Retour"})})]})]})]})}):Object(o.jsx)("h4",{className:"center",children:"Aucun pok\xe9mon \xe0 afficher !"})})};var b=()=>Object(o.jsxs)("div",{className:"center",children:[Object(o.jsx)("img",{src:"http://assets.pokemon.com/assets/cms2/img/pokedex/full/035.png",alt:"Page non trouv\xe9e"}),Object(o.jsx)("h1",{children:"Hey, cette page n'existe pas !"}),Object(o.jsx)(h.b,{to:"/",className:"waves-effect waves-teal btn-flat",children:"Retourner \xe0 l'accueil"})]});var u=e=>{let{pokemon:t,isEditForm:c}=e;const a=Object(i.o)(),[n,r]=Object(s.useState)({picture:{value:t.picture},name:{value:t.name,isValid:!0},hp:{value:t.hp,isValid:!0},cp:{value:t.cp,isValid:!0},types:{value:t.types,isValid:!0}}),d=e=>n.types.value.includes(e),h=e=>{const t={[e.target.name]:{value:e.target.value}};r({...n,...t})},m=e=>(1!==n.types.value.length||!d(e))&&!(n.types.value.length>=3&&!d(e)),p=e=>{e.preventDefault();(()=>{let e=n;if(x()){const t="https://assets.pokemon.com/assets/cms2/img/pokedex/detail/",c=".png";if(n.picture.value.startsWith(t)&&n.picture.value.endsWith(c)){const t={value:n.picture.value,error:"",isValid:!0};e={...e,picture:t}}else{const t="L'url n'est pas valide.",c={value:n.picture.value,error:t,isValid:!1};e={...e,picture:c}}}if(/^[a-zA-Z\xe0\xe9\xe8 ]{3,25}$/.test(n.name.value)){const t={value:n.name.value,error:"",isValid:!0};e={...e,name:t}}else{const t="Le nom du pok\xe9mon est requis (1-25).",c={value:n.name.value,error:t,isValid:!1};e={...e,name:c}}if(/^[0-9]{1,3}$/.test(n.hp.value)){const t={value:n.hp.value,error:"",isValid:!0};e={...e,hp:t}}else{const t="Les points de vie du pok\xe9mon sont compris entre 0 et 999.",c={value:n.hp.value,error:t,isValid:!1};e={...e,hp:c}}if(/^[0-9]{1,2}$/.test(n.cp.value)){const t={value:n.cp.value,error:"",isValid:!0};e={...e,cp:t}}else{const t="Les d\xe9g\xe2ts du pok\xe9mon sont compris entre 0 et 99",c={value:n.cp.value,error:t,isValid:!1};e={...e,cp:c}}return r(e),e.name.isValid&&e.hp.isValid&&e.cp.isValid})()&&(t.picture=n.picture.value,t.name=n.name.value,t.hp=n.hp.value,t.cp=n.cp.value,t.types=n.types.value,c?u():b())},b=async()=>await j.addPokemon(t),u=()=>{j.updatePokemon(t).then((()=>a("/pokemons/".concat(t.id))))},x=()=>!c;return Object(o.jsx)("form",{onSubmit:e=>p(e),children:Object(o.jsx)("div",{className:"row",children:Object(o.jsx)("div",{className:"col s12 m8 offset-m2",children:Object(o.jsxs)("div",{className:"card hoverable",children:[c&&Object(o.jsx)("div",{className:"card-image",children:Object(o.jsx)("img",{src:t.picture,alt:t.name,style:{width:"250px",margin:"0 auto"}})}),Object(o.jsxs)("div",{className:"card-image",children:[Object(o.jsx)("img",{src:t.picture,alt:t.name,style:{width:"250px",margin:"0 auto"}}),Object(o.jsx)("span",{className:"btn-floating halfway-fab waves-effect waves-light",children:Object(o.jsx)("i",{onClick:()=>{j.deletePokemon(t).then((()=>a("/pokemons")))},className:"fa-solid fa-trash"})})]}),Object(o.jsxs)("div",{className:"card-stacked",children:[Object(o.jsxs)("div",{className:"card-content",children:[x()&&Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name",children:"Image"}),Object(o.jsx)("input",{id:"picture",name:"picture",type:"text",className:"form-control",value:n.picture.value,onChange:e=>h(e)}),n.picture.error&&Object(o.jsx)("div",{className:"card-pannel red accent-1",children:n.picture.error})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"name",children:"Nom"}),Object(o.jsx)("input",{id:"name",name:"name",type:"text",className:"form-control",value:n.name.value,onChange:e=>h(e)}),n.name.error&&Object(o.jsx)("div",{className:"card-pannel red accent-1",children:n.name.error})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"hp",children:"Point de vie"}),Object(o.jsx)("input",{id:"hp",name:"hp",type:"number",className:"form-control",value:n.hp.value,onChange:e=>h(e)}),n.hp.error&&Object(o.jsx)("div",{className:"card-pannel red accent-1",children:n.hp.error})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{htmlFor:"cp",children:"D\xe9g\xe2ts"}),Object(o.jsx)("input",{id:"cp",name:"cp",type:"number",className:"form-control",value:n.cp.value,onChange:e=>h(e)}),n.cp.error&&Object(o.jsx)("div",{className:"card-pannel red accent-1",children:n.cp.error})]}),Object(o.jsxs)("div",{className:"form-group",children:[Object(o.jsx)("label",{children:"Types"}),["Plante","Feu","Eau","Insecte","Normal","Electrik","Poison","Fe\u0301e","Vol","Combat","Psy"].map((e=>Object(o.jsx)("div",{style:{marginBottom:"10px"},children:Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{id:e,type:"checkbox",className:"filled-in",value:e,disabled:!m(e),checked:d(e),onChange:t=>((e,t)=>{let c;c=t.target.checked?{value:n.types.value.concat([e])}:{value:n.types.value.filter((t=>t!==e))};r({...n,types:c})})(e,t)}),Object(o.jsx)("span",{children:Object(o.jsx)("p",{className:l(e),children:e})})]})},e)))]})]}),Object(o.jsx)("div",{className:"card-action center",children:Object(o.jsx)("button",{type:"submit",className:"btn",children:"Valider"})})]})]})})})})};var x=()=>{const{id:e}=Object(i.q)(),[t,c]=Object(s.useState)();return Object(s.useEffect)((()=>{j.getPokemon(Number(e)).then((e=>c(e||void 0)))}),[e]),Object(o.jsx)("div",{children:t?Object(o.jsxs)("div",{className:"row",children:[Object(o.jsxs)("h2",{className:"header center",children:["\xc9diter ",t.name]}),Object(o.jsx)(u,{pokemon:t,isEditForm:!0})]}):Object(o.jsx)("h4",{className:"center",children:"Aucun pok\xe9mon \xe0 afficher !"})})};class v{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"...",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"https://assets.pokemon.com/assets/cms2/img/pokedex/detail/xxx.png",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:["Normal"],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Date;this.id=void 0,this.hp=void 0,this.cp=void 0,this.name=void 0,this.picture=void 0,this.types=void 0,this.created=void 0,this.id=e,this.hp=t,this.cp=c,this.name=s,this.picture=a,this.types=n,this.created=r}}var O=()=>{const[e]=Object(s.useState)((new Date).getTime()),[t]=Object(s.useState)(new v(e));return Object(o.jsxs)("div",{className:'"row',children:[Object(o.jsx)("h2",{className:"header center",children:"Ajouter un pok\xe9mon"}),Object(o.jsx)(u,{pokemon:t,isEditForm:!1})]})};var g=()=>Object(o.jsx)(h.a,{children:Object(o.jsxs)("div",{children:[Object(o.jsx)("nav",{children:Object(o.jsx)("div",{className:"nav-wraper teal",children:Object(o.jsx)(h.b,{to:"/",className:"brand-logo center",children:"Pok\xe9dex"})})}),Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{path:"/",element:Object(o.jsx)(m,{})}),Object(o.jsx)(i.a,{path:"/pokemons",element:Object(o.jsx)(m,{})}),Object(o.jsx)(i.a,{path:"/pokemon/post",element:Object(o.jsx)(O,{})}),Object(o.jsx)(i.a,{path:"/pokemon/edit/:id",element:Object(o.jsx)(x,{})}),Object(o.jsx)(i.a,{path:"/pokemons/:id",element:Object(o.jsx)(p,{})}),Object(o.jsx)(i.a,{element:Object(o.jsx)(b,{})})]})]})});n.a.render(Object(o.jsx)(g,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.44a8d857.chunk.js.map